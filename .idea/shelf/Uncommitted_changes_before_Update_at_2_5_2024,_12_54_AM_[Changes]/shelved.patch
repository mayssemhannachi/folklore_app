Index: app/src/main/java/com/example/folklore_app/Activity/ListFoodsActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.folklore_app.Activity;\n\nimport android.os.Bundle;\nimport android.view.View;\n\nimport androidx.activity.EdgeToEdge;\nimport androidx.annotation.NonNull;\nimport androidx.core.graphics.Insets;\nimport androidx.core.view.ViewCompat;\nimport androidx.core.view.WindowInsetsCompat;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.folklore_app.Adapter.FoodListAdapter;\nimport com.example.folklore_app.Domain.Foods;\nimport com.example.folklore_app.R;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class ListFoodsActivity extends BaseActivity {\n    ActivityListFoodsBinding binding;\n    private RecyclerView.Adapter adapterListFood;\n    private int categoryId;\n    private String categoryName;\n    private String searchText;\n    private boolean isSearch;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityListFoodsBinding.inflate(getLayoutInflater());\n        EdgeToEdge.enable(this);\n        setContentView(binding.getRoot());\n\n        getIntentExtra();\n        initList();\n\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.loginBtn), (v, insets) -> {\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\n            return insets;\n        });\n    }\n\n    private void getIntentExtra() {\n        categoryId = getIntent().getIntExtra(\"CategoryId\", 0);\n        categoryName = getIntent().getStringExtra(\"Category\");\n        searchText = getIntent().getStringExtra(\"text\");\n        isSearch = getIntent().getBooleanExtra(\"isSearch\", false);\n\n        binding.titleTxt.setText(categoryName);\n        binding.backBtn.setOnClickListener(v -> finish());\n    }\n\n    private void initList() {\n        DatabaseReference myRef = database.getReference(\"Foods\");\n        binding.progressBar.setVisibility(View.VISIBLE);\n        ArrayList<Foods> list = new ArrayList<>();\n\n        Query query;\n        if (isSearch) {\n            query = myRef.orderByChild(\"Title\").startAt(searchText).endAt(searchText + '\\uf8ff');\n        } else {\n            query = myRef.orderByChild(\"Category\").equalTo(categoryId);\n        }\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()) {\n                    for (DataSnapshot issue : snapshot.getChildren()) {\n                        list.add(issue.getValue(Foods.class));\n                    }\n                    if (list.size() > 0) {\n                        binding.foodListView.setLayoutManager(new GridLayoutManager(ListFoodsActivity.this, 2));\n                        adapterListFood = new FoodListAdapter(list);\n                        binding.foodListView.setAdapter(adapterListFood);\n                    }\n                    binding.progressBar.setVisibility(View.GONE);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // Gérer l'annulation de la requête ici\n            }\n        });\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/folklore_app/Activity/ListFoodsActivity.java b/app/src/main/java/com/example/folklore_app/Activity/ListFoodsActivity.java
--- a/app/src/main/java/com/example/folklore_app/Activity/ListFoodsActivity.java	(revision bfaa5ce96be90103ffecc80548c24944d90af1f5)
+++ b/app/src/main/java/com/example/folklore_app/Activity/ListFoodsActivity.java	(date 1714606496793)
@@ -14,6 +14,7 @@
 import com.example.folklore_app.Adapter.FoodListAdapter;
 import com.example.folklore_app.Domain.Foods;
 import com.example.folklore_app.R;
+import com.example.folklore_app.databinding.ActivityListFoodsBinding;
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
